package com.jtbdevelopment.TwistedWordSearch.factory.initializers;

import static org.junit.Assert.assertArrayEquals;
import static org.junit.Assert.assertEquals;

import com.jtbdevelopment.TwistedWordSearch.state.GameFeature;
import com.jtbdevelopment.TwistedWordSearch.state.TWSGame;
import com.jtbdevelopment.TwistedWordSearch.state.grid.Grid;
import com.jtbdevelopment.games.factory.GameInitializer;
import java.util.Arrays;
import java.util.HashSet;
import org.junit.Test;

/**
 * Date: 8/16/16 Time: 6:46 PM
 */
public class CircleGridInitializerTest {

  private CircleGridInitializer initializer = new CircleGridInitializer();

  @Test
  public void testInitializeGame() {
    TWSGame game = new TWSGame();
    game.setGrid(new Grid(21, 21));
    game.setFeatures(new HashSet<>(Arrays.asList(GameFeature.CircleX51)));

    initializer.initializeGame(game);

    assertArrayEquals("        ?????        ".toCharArray(), game.getGrid().getGridCells()[0]);
    assertArrayEquals("      ?????????      ".toCharArray(), game.getGrid().getGridCells()[1]);
    assertArrayEquals("     ???????????     ".toCharArray(), game.getGrid().getGridCells()[2]);
    assertArrayEquals("    ?????????????    ".toCharArray(), game.getGrid().getGridCells()[3]);
    assertArrayEquals("   ???????????????   ".toCharArray(), game.getGrid().getGridCells()[4]);
    assertArrayEquals("  ?????????????????  ".toCharArray(), game.getGrid().getGridCells()[5]);
    assertArrayEquals(" ??????????????????? ".toCharArray(), game.getGrid().getGridCells()[6]);
    assertArrayEquals(" ??????????????????? ".toCharArray(), game.getGrid().getGridCells()[7]);
    assertArrayEquals("?????????????????????".toCharArray(), game.getGrid().getGridCells()[8]);
    assertArrayEquals("?????????????????????".toCharArray(), game.getGrid().getGridCells()[9]);
    assertArrayEquals("?????????????????????".toCharArray(),
        game.getGrid().getGridCells()[10]);
    assertArrayEquals("?????????????????????".toCharArray(),
        game.getGrid().getGridCells()[11]);
    assertArrayEquals("?????????????????????".toCharArray(),
        game.getGrid().getGridCells()[12]);
    assertArrayEquals(" ??????????????????? ".toCharArray(),
        game.getGrid().getGridCells()[13]);
    assertArrayEquals(" ??????????????????? ".toCharArray(),
        game.getGrid().getGridCells()[14]);
    assertArrayEquals("  ?????????????????  ".toCharArray(),
        game.getGrid().getGridCells()[15]);
    assertArrayEquals("   ???????????????   ".toCharArray(),
        game.getGrid().getGridCells()[16]);
    assertArrayEquals("    ?????????????    ".toCharArray(),
        game.getGrid().getGridCells()[17]);
    assertArrayEquals("     ???????????     ".toCharArray(),
        game.getGrid().getGridCells()[18]);
    assertArrayEquals("      ?????????      ".toCharArray(),
        game.getGrid().getGridCells()[19]);
    assertArrayEquals("        ?????        ".toCharArray(),
        game.getGrid().getGridCells()[20]);

  }

  @Test
  public void testGetOrder() {
    assertEquals((GameInitializer.EARLY_ORDER + 10), initializer.getOrder());
  }
}
